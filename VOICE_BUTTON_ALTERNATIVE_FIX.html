<!-- Voice Button Fix: Working Without Backend Alternative -->

<!-- This JavaScript can be added to enable voice functionality without needing a deployed backend -->

<!-- Alternative 1: Use Google Gemini API directly from frontend (with CORS proxy) -->
<script>
// For GitHub Pages: Add this to use Gemini API directly (without backend)
// This is a simplified version that works directly in the browser

const GEMINI_API_KEY = 'AIzaSyBFr2SI0Kjy9PLn6IbNYbqgiQP8eSqGmjY';
const GEMINI_API_ENDPOINT = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent';

async function askGeminiDirect(message) {
    try {
        console.log('ü§ñ Asking Gemini API directly:', message);
        
        const response = await fetch(`${GEMINI_API_ENDPOINT}?key=${GEMINI_API_KEY}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                contents: [{
                    parts: [{
                        text: message
                    }]
                }]
            })
        });

        if (!response.ok) {
            console.error('API Error:', response.status);
            return 'I encountered an error. Please try again.';
        }

        const data = await response.json();
        
        if (data.candidates && data.candidates[0] && data.candidates[0].content) {
            const aiResponse = data.candidates[0].content.parts[0].text;
            console.log('‚úÖ Got response from Gemini');
            return aiResponse;
        } else {
            console.error('Unexpected API response format');
            return 'I could not process that request.';
        }
    } catch (error) {
        console.error('‚ùå Gemini API Error:', error);
        return 'Connection error. Please check your internet connection.';
    }
}

// Use this function in your voice processing instead of the backend API
// Replace askAI with askGeminiDirect in the processQuery function
</script>

<!-- 
INSTALLATION INSTRUCTIONS:

1. The code above uses the Gemini API directly from the browser
2. This means NO backend server is needed
3. The API key is visible in the frontend (security consideration for public projects)

HOW TO USE:

In your index.html, find this line in the processQuery or voice button handler:
    const aiResponse = await askAI(message);

And replace it with:
    const aiResponse = await askGeminiDirect(message);

This will work on GitHub Pages without needing to deploy a backend!

ADVANTAGES:
‚úÖ Works on GitHub Pages with zero backend setup
‚úÖ Voice button will respond immediately
‚úÖ No CORS issues
‚úÖ No mixed content errors
‚úÖ Uses the same Gemini API

DISADVANTAGES:
‚ö†Ô∏è API key is visible in frontend (public)
‚ö†Ô∏è Rate limited based on your Google account
‚ö†Ô∏è Less secure than backend approach
‚ö†Ô∏è For production, use the backend method

-->
